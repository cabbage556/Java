# DIP - 의존 역전 원칙

> "고차원 모듈은 저차원 모듈에 의존하면 안 된다. 이 두 모듈 모두 다른 추상화된 것에 의존해야 한다."
> 
> "추상화된 것은 구체적인 것에 의존하면 안 된다. 구체적인 것이 추상화된 것에 의존해야 한다."
> 
> "자주 변경되는 구체(concrete) 클래스에 의존하지 마라."
> 
> -로버트 C. 마틴

의역

> "자신보다 변하기 쉬운 것에 의존하지 마라."

의존 역전 원칙
- 자신보다 변하기 쉬운 것에 의존하던 것을 추상화된 인터페이스나 상위 클래스를 두어 변하기 쉬운 것의 변화에 영향 받지 않게 하는 것
- 상위 클래스일수록, 인터페이스일수록, 추상 클래스일수록 변하지 않을 가능성이 높으므로 하위 클래스나 구체 클래스가 아닌 상위 클래스, 인터페이스, 추상 클래스를 의존하라는 것
- OCP(개방 폐쇄 원칙)과 유사함

의존 역전 원칙 예시 : 자동차, 타이어
- 자동차 클래스가 스노우타이어라는 구체적인 클래스에 의존하는 경우
- 스노우타이어 클래스가 다른 타이어 클래스로 변경되면 자동차는 그 변화에 영향을 받을 수밖에 없음
- 자동차 클래스가 구체적인 타이어 클래스들이 아닌 추상화된 타이어 인터페이스 또는 타이어 상위 클래스에 의존하게 함
- 스노우타이어 클래스는 추상화된 타이어 인터페이스 또는 상위 클래스를 의존하게 됨으로써 의존 방향이 역전됨
- 자동차 클래스는 스노우타이어 클래스를 의존하던 관계를 중간에 추상화된 타이어 인터페이스 또는 상위 클래스를 추가해 두어 의존 관계를 역전시킴

의존 역전 원칙 예시 구현
- `badCase` 패키지의 클래스와 `refac` 패키지의 클래스
